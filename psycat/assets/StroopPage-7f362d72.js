import{x as k,h as z,g as m,o as E,c as L,j as u,y as f,a as o,B as v,u as p,t as n,F,z as K}from"./index-6cd84630.js";const q={class:"h-screen flex w-full justify-center"},N={class:"h-screen justify-center flex flex-col flex-1"},P={class:"mt-3 text-center font-bold"},R={class:"h-screen justify-center flex flex-col flex-1"},U={class:"h-screen justify-center flex flex-col flex-0"},V=o("h1",null," Приготовьтесь... ",-1),G=o("div",null,"(нажмите любую клавишу)",-1),H=[V,G],I={class:"h-screen justify-center flex flex-col flex-0"},J={class:"border border-neutral-700"},M=o("tr",null,[o("th",{class:"pr-3 border"}),o("th",{class:"pr-3 border text-center"},"справа"),o("th",{class:"pr-3 border text-center"},"центр"),o("th",{class:"pr-3 border text-center"},"слева"),o("th",{class:"pr-3 border text-center"},"направление"),o("th",{class:"pr-3 border text-center"},"реакция")],-1),O={class:"pr-3 border"},Q={class:"pr-3 border text-center"},T={class:"pr-3 border text-center"},W={class:"mt-3 text-center font-bold"},X={class:"mt-3 text-center font-bold"},oo={__name:"StroopPage",setup(Y){const s=k("init"),g=k(1),r=[{title:"красный",color:"#f5222d"},{title:"зеленый",color:"#52c41a"},{title:"синий",color:"#1890ff"}],B=[{first_color:2,second_color:1,congruents:0,direction:1},{first_color:1,second_color:0,congruents:0,direction:0},{first_color:2,second_color:1,congruents:0,direction:0},{first_color:1,second_color:2,congruents:0,direction:1},{first_color:0,second_color:1,congruents:1,direction:0},{first_color:0,second_color:2,congruents:0,direction:0},{first_color:1,second_color:2,congruents:1,direction:0},{first_color:0,second_color:1,congruents:0,direction:0},{first_color:1,second_color:0,congruents:1,direction:1},{first_color:1,second_color:2,congruents:1,direction:1},{first_color:1,second_color:2,congruents:0,direction:0},{first_color:0,second_color:2,congruents:1,direction:1},{first_color:0,second_color:2,congruents:0,direction:1},{first_color:0,second_color:1,congruents:0,direction:1},{first_color:2,second_color:0,congruents:0,direction:1},{first_color:1,second_color:0,congruents:1,direction:0},{first_color:2,second_color:1,congruents:1,direction:0},{first_color:2,second_color:0,congruents:1,direction:0},{first_color:2,second_color:0,congruents:1,direction:1},{first_color:2,second_color:0,congruents:0,direction:0},{first_color:1,second_color:0,congruents:0,direction:1},{first_color:2,second_color:1,congruents:1,direction:1},{first_color:0,second_color:2,congruents:1,direction:0},{first_color:0,second_color:1,congruents:1,direction:1}],j=z(()=>{let i=0,t=0;return g.value==1?d.slice(1,-1).forEach(e=>{e.direction?t+=e.reaction_time:i+=e.reaction_time}):d.slice(2,-1).forEach(e=>{e.direction?t+=e.reaction_time:i+=e.reaction_time}),{left:i,right:t}});k(0);const c=m({title:"",color:0,vision:!0,colorize:!0}),_=m({color:0,vision:!0,colorize:!0}),a=m({color:0,vision:!0,colorize:!0}),d=m([]);let C=24,x=0,S=z(()=>1e7),y=()=>{document.removeEventListener("keyup",y),A()},h=i=>{for(document.removeEventListener("keyup",h),x=0;d.length>0;)d.pop();g.value=i,s.value="prepare",document.addEventListener("keyup",y)},A=()=>{if(x<C){s.value="play";let i=Date.now(),t=B[x];d.push(t);let e=d.length-g.value,l=e>=0?d[e]:null;l?(t.congruents?(c.title=r[t.first_color].title,c.color=r[t.first_color].color):(c.title=r[t.second_color].title,c.color=r[t.first_color].color),c.vision=!0,_.color=r[l.direction?l.first_color:l.second_color].color,_.vision=!0,a.color=r[l.direction?l.second_color:l.first_color].color,a.vision=!0):(t.congruents?(c.title=r[t.first_color].title,c.color=r[t.first_color].color):(c.title=r[t.second_color].title,c.color=r[t.first_color].color),c.vision=!0,_.vision=!1,a.vision=!1);let D=b=>{let w;if(b.code=="ArrowLeft"||b.code=="KeyA")w=0;else if(b.code=="ArrowRight"||b.code=="KeyD")w=1;else return;if(document.removeEventListener("keydown",D),c.vision=!1,_.vision=!1,a.vision=!1,l){let $=Date.now()-i;l.reaction_time=Date.now()-i,$<S.value&&(x+=1),l.correctly=w==l.direction}document.addEventListener("keyup",y)};document.addEventListener("keydown",D)}else s.value="score"};return(i,t)=>(E(),L("div",q,[u(o("div",{class:"lg:w-40 md:w-24 sm:w-16 w-12",style:v({"background-color":a.color})},null,4),[[f,s.value=="play"&&a.vision]]),u(o("div",N,[o("div",P,[o("button",{onClick:t[0]||(t[0]=e=>p(h)(1)),class:"rounded-lg border p-2 border-neutral-700 bg-white text-neutral-900"},"Начать тест Струпа")])],512),[[f,s.value=="init"]]),u(o("div",R,[o("div",{class:"lg:text-6xl md:text-5xl sm:text-4xl text-3xl text-center font-bold",style:v({color:c.color})},n(c.title.toUpperCase()),5)],512),[[f,s.value=="play"&&c.vision]]),u(o("div",{class:"lg:w-40 md:w-24 sm:w-16 w-12",style:v({"background-color":_.color})},null,4),[[f,s.value=="play"&&_.vision]]),u(o("div",U,H,512),[[f,s.value=="prepare"]]),u(o("div",I,[o("h1",null," Итоговый счет (уровень "+n(g.value)+") ",1),o("table",J,[M,(E(!0),L(F,null,K(d.slice(g.value-1),(e,l)=>(E(),L("tr",null,[o("td",O,n(l+1)+" "+n(e.correctly?"✔️":"❌"),1),o("td",{class:"pr-3 border",style:v({"background-color":r[e.direction?e.second_color:e.first_color].color})},null,4),o("td",{class:"pr-3 border text-center",style:v({color:r[e.first_color].color})},n(r[e.congruents?e.first_color:e.second_color].title),5),o("td",{class:"pr-3 border",style:v({"background-color":r[e.direction?e.first_color:e.second_color].color})},null,4),o("td",Q,n(e.direction?">":"<"),1),o("td",T,n(e.reaction_time),1)]))),256))]),o("div",W,[o("button",{onClick:t[1]||(t[1]=e=>p(h)(1)),class:"rounded-lg border p-2 border-neutral-700 bg-white text-neutral-900"},"Тест "+n(1)+" уровня")]),o("div",X,[o("button",{onClick:t[2]||(t[2]=e=>p(h)(2)),class:"rounded-lg border p-2 border-neutral-700 bg-white text-neutral-900"},"Тест "+n(2)+" уровня")]),o("div",null,n(p(j).left)+" | "+n(p(j).right),1)],512),[[f,s.value=="score"]])]))}};export{oo as default};
