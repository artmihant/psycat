import{B as ae,k as p,l as K,r as se,o as u,c as _,p as m,v as y,a as e,n as L,F as x,h as $,y as P,C as z,d as N,t as c,f as w,w as ce}from"./index-ab751527.js";import{C as s}from"./color-9d40ee1b.js";import{_ as ie,a as ue,b as fe,c as ge,d as de,e as _e,f as pe,g as he,h as ve,i as me,j as ye}from"./SunFigure.vue_vue_type_script_setup_true_lang-a14235e0.js";const be={class:"h-screen justify-center flex flex-col flex-1"},xe=e("p",null,"Сейчас на экране появится 12 квадратов.",-1),we=e("p",null,"Цвет одного отличается от цвета остальных.",-1),Se=e("p",null,[w("Нужно как можно быстрее определить, в какой части экрана (правой или левой). от центра расположен этот квадрат, "),e("br"),w(" нажав клавишу "),e("b",null,"Q"),w(" (слева) или "),e("b",null,"P"),w(" (справа)")],-1),ke=e("p",null," При выполнении задания необходимо смотреть на крестик по центру экрана",-1),qe=e("div",{class:"h-screen justify-center flex flex-col flex-0"},[e("h1",null,"Приготовьтесь..."),e("p",null,"(нажмите любую клавишу)")],-1),Me=[qe],je={class:"h-screen justify-center items-center flex flex-col flex-1 m-auto"},$e={class:"relative"},Ee=e("div",{class:"h-screen justify-center flex flex-col flex-0"},[e("h1",null,"Прекрасно!"),e("p",null,"Закройте на несколько секунд глаза, дайте им отдохнуть."),e("p",null,"когда отдохнете, нажмите любую клавишу для продолжения")],-1),Ce=[Ee],Fe={class:"h-screen flex w-full"},De={class:"h-screen flex flex-col"},Le={class:"flex gap-10"},Pe={class:"border border-neutral-700"},ze={class:"pr-3 border relative"},Be=e("th",{class:"pr-3 border text-center"},"направление",-1),Te=e("th",{class:"pr-3 border text-center"},"реакция",-1),Re={class:"pr-3 border"},Ie={class:"pr-3 border text-center"},Ke={class:"pr-3 border text-center"},Ne={class:"mt-48 text-center font-bold"},Ve=e("button",{class:"rounded-lg border p-2 border-neutral-700 bg-white text-neutral-900"}," Далее ",-1),Ge=ae({__name:"СalibrationPage",setup(Ae){const E={apple:ue,banana:fe,blob:ge,circule:de,heart:_e,hex:pe,leaf:he,lemon:ve,square:me,sun:ye},B=p(70),V=p(10),S=p(1.3),A=1e3,T=333,h={neutral:"#b2b2b2",cross:"#222222"},k=new s("color(display-p3 0.9244 0.2464 0.4044)"),O=new s("color(display-p3 0.9336 0.268 0.2039)"),Q=new s("color(display-p3 0.9329 0.2736 0.166)"),X=new s("color(display-p3 0.9316 0.2799 0.1176)"),G=new s("color(display-p3 0.9298 0.2869 0.0417)"),q=new s("color(display-p3 0.9362 0.7218 0.0842)"),W=new s("color(display-p3 0.8169 0.7855 0.1726)"),H=new s("color(display-p3 0.7975 0.7939 0.1963)"),J=new s("color(display-p3 0.7769 0.8024 0.2213)"),U=new s("color(display-p3 0.7553 0.8107 0.2471)"),M=new s("color(display-p3 0.0772 0.7146 0.7601)"),Y=new s("color(display-p3 0.2086 0.6784 0.8873)"),Z=new s("color(display-p3 0.235 0.6717 0.9013)"),ee=new s("color(display-p3 0.2622 0.6645 0.9147)"),te=new s("color(display-p3 0.2891 0.657 0.9268)"),C=[{ground:k.toString(),target:G.toString(),figure:"square",principle:i,length:13},{ground:k.toString(),target:X.toString(),figure:"square",principle:i,length:13},{ground:k.toString(),target:Q.toString(),figure:"square",principle:i,length:13},{ground:k.toString(),target:O.toString(),figure:"square",principle:i,length:13},{ground:q.toString(),target:U.toString(),figure:"square",principle:i,length:13},{ground:q.toString(),target:J.toString(),figure:"square",principle:i,length:13},{ground:q.toString(),target:H.toString(),figure:"square",principle:i,length:13},{ground:q.toString(),target:W.toString(),figure:"square",principle:i,length:13},{ground:M.toString(),target:te.toString(),figure:"square",principle:i,length:13},{ground:M.toString(),target:ee.toString(),figure:"square",principle:i,length:13},{ground:M.toString(),target:Z.toString(),figure:"square",principle:i,length:13},{ground:M.toString(),target:Y.toString(),figure:"square",principle:i,length:13}],v=K([]);for(let r=0;r<12;r++)v.push({color:h.neutral,figure:"square"});const R=[[5,9,7,1,11,8,4,3,6,10,2,0],[8,3,11,1,0,8,9,6,10,2,5,4,7],[5,8,1,0,11,3,6,4,9,2,7,10],[5,7,9,6,10,11,4,2,0,1,3,8],[6,7,0,3,5,10,1,4,11,2,9,8],[10,6,4,9,5,8,1,3,2,7,0,11],[0,10,8,3,9,5,7,1,6,11,4,2],[6,10,7,5,3,4,8,11,0,1,2,9],[5,10,1,6,9,11,0,7,3,4,2,8],[5,9,7,1,11,8,4,3,6,10,2,0],[8,3,11,1,0,8,9,6,10,2,5,4,7],[5,8,1,0,11,3,6,4,9,2,7,10],[5,7,9,6,10,11,4,2,0,1,3,8],[0,8,4,11,5,6,7,2,3,1,9,10],[4,8,9,2,11,0,7,5,1,10,3,6],[4,11,10,2,1,6,0,3,9,8,7,5],[10,6,4,9,5,8,1,3,2,7,0,11],[0,10,8,3,9,5,7,1,6,11,4,2],[6,10,7,5,3,4,8,11,0,1,2,9],[5,10,1,6,9,11,0,7,3,4,2,8]];function re(r){return Math.floor(Math.random()*r)}R.forEach(r=>r.unshift(re(12)));function oe(r){return r<6?"r":"l"}function i(r,a){return R[r][a]}const F=p(!1),f=p("init"),d=K([]),g=p(0),j=p(0);function ne(){function r(n){var t=n.requestFullScreen||n.webkitRequestFullScreen||n.mozRequestFullScreen||n.msRequestFullScreen;if(t)t.call(n);else if(typeof window.ActiveXObject<"u"){var o=new ActiveXObject("WScript.Shell");o!==null&&o.SendKeys("{F11}")}}var a=document.body;r(a),f.value="prepare",g.value<C.length&&I()}function I(){d.push({tests:[],figure:"",ground:"",target:"",stat:{average_full:0,average_left:0,average_right:0}}),j.value=0,document.addEventListener("keyup",D)}function le(){g.value+=1,f.value="rest",g.value<C.length?I():(d.forEach(r=>{let a=0,n=0,t=0,o=0;r.tests.forEach((l,b)=>{b&&l.correctly&&l.reaction_time<A&&(l.direction=="r"&&(o+=1,n+=l.reaction_time),l.direction=="l"&&(t+=1,a+=l.reaction_time))}),r.stat.average_full=Math.floor((a+n)/(t+o)),r.stat.average_left=Math.floor(a/t),r.stat.average_right=Math.floor(n/o)}),f.value="score")}function D(){document.removeEventListener("keyup",D);const r=C[g.value];for(let a=0;a<12;a++)v[a].color=h.neutral,v[a].figure="square";if(F.value=!1,j.value<r.length){f.value="play";const a=r.principle(g.value,j.value),n={position:a,direction:oe(a),answer:"",correctly:!1,reaction_time:0};d[g.value].tests.push(n),d[g.value].figure=r.figure,d[g.value].target=r.target,d[g.value].ground=r.ground,setTimeout(()=>{F.value=!0,setTimeout(()=>{let t=Date.now();for(let l=0;l<12;l++)v[l].color=n.position==l?r.target:r.ground,v[l].figure=r.figure;function o(l){const b=l.code=="KeyP"?"r":l.code=="KeyQ"?"l":null;b&&(document.removeEventListener("keydown",o),n.answer=b,n.correctly=b==n.direction,n.reaction_time=Date.now()-t,j.value+=1,document.addEventListener("keyup",D))}document.addEventListener("keydown",o)},1e3)},250)}else le()}return(r,a)=>{const n=se("router-link");return u(),_(x,null,[m(e("div",be,[e("div",{class:"h-screen justify-center items-center flex flex-col flex-1 m-auto"},[e("div",{class:"w-[550px]"},[xe,we,Se,ke,e("div",{class:"text-center"},[e("button",{onClick:ne,class:"rounded-lg border p-2 border-neutral-700 bg-white text-neutral-900"},"Начать тест")])])])],512),[[y,f.value=="init"]]),m(e("div",{class:"h-screen flex w-full justify-center",style:L({"background-color":h.neutral})},Me,4),[[y,f.value=="prepare"]]),m(e("div",{class:"cursor-none h-screen flex w-full justify-center",style:L({"background-color":h.neutral})},[e("div",je,[e("div",$e,[(u(!0),_(x,null,$(v,(t,o)=>(u(),P(z(E[t.figure]),{key:o,color:t.color,top:-B.value*S.value*Math.cos(Math.PI/6*(o+.5)),left:B.value*S.value*Math.sin(Math.PI/6*(o+.5)),scale:S.value},null,8,["color","top","left","scale"]))),128)),m(N(ie,{size:V.value*S.value,color:h.cross},null,8,["size","color"]),[[y,F.value]])])])],4),[[y,f.value=="play"]]),m(e("div",{class:"h-screen flex w-full justify-center",style:L({"background-color":h.neutral})},Ce,4),[[y,f.value=="rest"]]),m(e("div",Fe,[e("div",De,[e("div",Le,[(u(!0),_(x,null,$(d,t=>(u(),_("div",null,[e("table",Pe,[e("tr",null,[e("th",ze,[(u(),P(z(E[t.figure]),{color:t.ground,top:4,left:3,scale:.4},null,8,["color","scale"])),(u(),P(z(E[t.figure]),{color:t.target,top:4,left:9,scale:.4},null,8,["color","scale"]))]),Be,Te]),(u(!0),_(x,null,$(t.tests,(o,l)=>(u(),_("tr",null,[e("td",Re,c(l+1)+" "+c(o.correctly?"✔️":"❌"),1),e("td",Ie,c(o.direction=="r"?"--"+o.position+"->":"<-"+o.position+"--"),1),e("td",Ke,c(o.reaction_time),1)]))),256))]),w(" "+c(t.stat.average_left)+" "+c(t.stat.average_right)+" "+c(t.stat.average_full)+" "+c(Math.floor(100*(t.stat.average_right-t.stat.average_left)/(t.stat.average_full-T)))+"% ",1)]))),256)),e("div",null,[(u(!0),_(x,null,$(d,t=>(u(),_("div",null,c(t.figure)+" "+c(t.stat.average_left)+" "+c(t.stat.average_right)+" "+c(t.stat.average_full)+" "+c(Math.floor(100*(t.stat.average_right-t.stat.average_left)/(t.stat.average_full-T)))+"% ",1))),256))])]),e("div",Ne,[N(n,{to:"thanks"},{default:ce(()=>[Ve]),_:1})])])],512),[[y,f.value=="score"]])],64)}}});export{Ge as default};
