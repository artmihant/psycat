import{s as L,j as C,r as g,o as D,c as j,k as _,x as f,a as e,z as v,u as h,t as n,F as K,y as M}from"./index-3e24f392.js";const I={class:"h-screen flex w-full justify-center"},N={class:"h-screen justify-center flex flex-col flex-1"},P={class:"mt-3 text-center font-bold"},R={class:"h-screen justify-center flex flex-col flex-1"},U={class:"h-screen justify-center flex flex-col flex-0"},V=e("h1",null," Приготовьтесь... ",-1),q=e("div",null,"(нажмите любую клавишу)",-1),G=[V,q],H={class:"h-screen justify-center flex flex-col flex-0"},J={class:"border border-neutral-700"},O=e("tr",null,[e("th",{class:"pr-3 border"}),e("th",{class:"pr-3 border text-center"},"справа"),e("th",{class:"pr-3 border text-center"},"центр"),e("th",{class:"pr-3 border text-center"},"слева"),e("th",{class:"pr-3 border text-center"},"направление"),e("th",{class:"pr-3 border text-center"},"реакция")],-1),Q={class:"pr-3 border"},T={class:"pr-3 border text-center"},W={class:"pr-3 border text-center"},X={class:"mt-3 text-center font-bold"},Y={class:"mt-3 text-center font-bold"},te={__name:"DelayStroopPage",setup(Z){function m(l){return Math.floor(Math.random()*l)}const i=L("init"),p=L(1),r=[{title:"красный",color:"#f5222d"},{title:"оранжевый",color:"#fa8c16"},{title:"желтый",color:"#fadb14"},{title:"зеленый",color:"#52c41a"},{title:"синий",color:"#1890ff"},{title:"фиолетовый",color:"#722ed1"}],z=C(()=>{let l=0,o=0;return p.value==1?a.slice(1,-1).forEach(t=>{t.direction?o+=t.reaction_time:l+=t.reaction_time}):a.slice(2,-1).forEach(t=>{t.direction?o+=t.reaction_time:l+=t.reaction_time}),{left:l,right:o}});L(0);const c=g({title:"",color:0,vision:!0,colorize:!0}),d=g({color:0,vision:!0,colorize:!0}),u=g({color:0,vision:!0,colorize:!0}),a=g([]);let S=24,y=0,A=C(()=>1e7),w=()=>{document.removeEventListener("keyup",w),$()},x=l=>{for(document.removeEventListener("keyup",x),y=0;a.length>0;)a.pop();p.value=l,i.value="prepare",document.addEventListener("keyup",w)},B=()=>{let l=0,o=0;for(;l==o;)l=m(r.length),o=m(r.length);let t=m(2),s=m(2);return{first_color:l,second_color:o,congruents:t,direction:s}},$=()=>{if(y<S){i.value="play";let l=Date.now(),o=B();a.push(o);let t=a.length-p.value,s=t>=0?a[t]:null;s?(o.congruents?(c.title=r[o.first_color].title,c.color=r[o.first_color].color):(c.title=r[o.second_color].title,c.color=r[o.first_color].color),c.vision=!0,d.color=r[s.direction?s.first_color:s.second_color].color,d.vision=!0,u.color=r[s.direction?s.second_color:s.first_color].color,u.vision=!0):(o.congruents?(c.title=r[o.first_color].title,c.color=r[o.first_color].color):(c.title=r[o.second_color].title,c.color=r[o.first_color].color),c.vision=!0,d.vision=!1,u.vision=!1);let k=b=>{let E;if(b.code=="ArrowLeft"||b.code=="KeyA")E=0;else if(b.code=="ArrowRight"||b.code=="KeyD")E=1;else return;if(document.removeEventListener("keydown",k),c.vision=!1,d.vision=!1,u.vision=!1,s){let F=Date.now()-l;s.reaction_time=Date.now()-l,F<A.value&&(y+=1),s.correctly=E==s.direction}document.addEventListener("keyup",w)};document.addEventListener("keydown",k)}else i.value="score"};return(l,o)=>(D(),j("div",I,[_(e("div",{class:"lg:w-40 md:w-24 sm:w-16 w-12",style:v({"background-color":u.color})},null,4),[[f,i.value=="play"&&u.vision]]),_(e("div",N,[e("div",P,[e("button",{onClick:o[0]||(o[0]=t=>h(x)(2)),class:"rounded-lg border p-2 border-neutral-700 bg-white text-neutral-900"},"Начать отложенный тест Струпа")])],512),[[f,i.value=="init"]]),_(e("div",R,[e("div",{class:"lg:text-6xl md:text-5xl sm:text-4xl text-3xl text-center font-bold",style:v({color:c.color})},n(c.title.toUpperCase()),5)],512),[[f,i.value=="play"&&c.vision]]),_(e("div",{class:"lg:w-40 md:w-24 sm:w-16 w-12",style:v({"background-color":d.color})},null,4),[[f,i.value=="play"&&d.vision]]),_(e("div",U,G,512),[[f,i.value=="prepare"]]),_(e("div",H,[e("h1",null," Итоговый счет (уровень "+n(p.value)+") ",1),e("table",J,[O,(D(!0),j(K,null,M(a.slice(p.value-1,-1),(t,s)=>(D(),j("tr",null,[e("td",Q,n(s+1)+" "+n(t.correctly?"✔️":"❌"),1),e("td",{class:"pr-3 border",style:v({"background-color":r[t.direction?t.second_color:t.first_color].color})},null,4),e("td",{class:"pr-3 border text-center",style:v({color:r[t.first_color].color})},n(r[t.congruents?t.first_color:t.second_color].title),5),e("td",{class:"pr-3 border",style:v({"background-color":r[t.direction?t.first_color:t.second_color].color})},null,4),e("td",T,n(t.direction?">":"<"),1),e("td",W,n(t.reaction_time),1)]))),256))]),e("div",X,[e("button",{onClick:o[1]||(o[1]=t=>h(x)(1)),class:"rounded-lg border p-2 border-neutral-700 bg-white text-neutral-900"},"Тест "+n(1)+" уровня")]),e("div",Y,[e("button",{onClick:o[2]||(o[2]=t=>h(x)(2)),class:"rounded-lg border p-2 border-neutral-700 bg-white text-neutral-900"},"Тест "+n(2)+" уровня")]),e("div",null,n(h(z).left)+" | "+n(h(z).right),1)],512),[[f,i.value=="score"]])]))}};export{te as default};
